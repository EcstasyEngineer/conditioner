# Mana Model Analysis

Deep analysis of the stat system for playlist generation.

## Part 1: State Semantics

For each stat, what does it mean to produce it, consume it, and max it out?

---

### absorption

**Description**: How deeply they're taking in content

**Producing absorption** (+):
- The listener is sinking deeper into the experience
- External world fading, internal focus increasing
- "Going under" - the classic trance depth indicator

**Consuming absorption** (-):
- Being pulled back toward surface awareness
- Content that requires active engagement vs passive reception
- Wakener does this intentionally

**Maxed out (100)**:
- Completely absorbed in the audio
- Time distortion likely - minutes feel like seconds
- May not remember specific content, just the feeling
- "I was gone" - deep trance state

**At zero (0)**:
- Fully present, normal waking consciousness
- Analytical mind active, critiquing content
- Clock-watching, aware of surroundings

---

### receptive

**Description**: Openness to suggestion, barriers lowered

**Producing receptive** (+):
- Defenses coming down
- "Yes, and..." mindset developing
- Trust building with the voice/content

**Consuming receptive** (-):
- Using up that openness to install something
- The "slot" being filled
- Resistance might return after intense content

**Maxed out (100)**:
- No critical filter active
- Suggestions land without examination
- "Whatever you say" state
- Vulnerable but not necessarily deep

**At zero (0)**:
- Skeptical, guarded
- "Prove it to me" mindset
- Suggestions bounce off

---

### suggestible

**Description**: Actively accepting suggestions as true

**Producing suggestible** (+):
- Moving from "I hear you" to "I believe you"
- Suggestions becoming internalized truths
- The gap between hearing and accepting closing

**Consuming suggestible** (-):
- Using that acceptance to install new beliefs/identity
- Each major suggestion "spends" some suggestibility
- Why identity work (bimbo, dumbdown) consumes this

**Maxed out (100)**:
- Statements become facts upon hearing
- "You are X" â†’ immediately feels true
- Ideal state for programming content
- Temporary but powerful

**At zero (0)**:
- Can hear suggestions but they don't stick
- "That's nice but I don't really believe it"
- Content slides off without impact

---

### empty

**Description**: Mental quietness, thoughts cleared

**Producing empty** (+):
- Thoughts slowing, stopping
- Inner monologue fading
- "Blank and empty" - the classic blank state

**Consuming empty** (-):
- Filling that empty space with content
- Arousal/anticipation consume empty because they're "loud" mental states
- Programming works best on empty canvas, but fills it

**Maxed out (100)**:
- No thoughts at all
- Pure receptive vessel
- "I can't think" state
- Required for deep identity work (bimbo, dumbdown)

**At zero (0)**:
- Normal busy mind
- Thoughts competing with audio
- "I keep thinking about..."

**Note**: Empty is special - it's the prerequisite for identity transformation. You can't install a new self over an active old self. Empty is "quiet mind, still present" - the deeper "gone" state is `dissociated`.

---

### dissociated

**Description**: Ego dissolution, the "gone" state

**Producing dissociated** (+):
- Sense of self fading
- Time distortion, memory gaps forming
- "Where did I go?" feeling
- The blackout reward state

**Consuming dissociated** (-):
- Grounding, returning to self
- Wakener does this intentionally
- Any stimulus that pulls you back

**Maxed out (100)**:
- Complete ego dissolution
- No sense of self or time
- Memory gaps likely
- The "I was completely gone" experience

**At zero (0)**:
- Normal self-awareness
- Clear sense of identity
- Time perception intact

**Note**: Dissociated is the *outcome* of deep identity work. Empty (quiet mind) is the prerequisite; dissociated (gone) is what modules like bimbo/dumbdown/bambi_blackout produce. This is *not* pathological dissociation - it's the deliberately sought altered state.

---

### obedient

**Description**: Readiness to follow commands

**Producing obedient** (+):
- Building the reflex to comply
- "Yes" becoming automatic
- Command â†’ action pathway strengthening

**Consuming obedient** (-):
- Spending that compliance on specific commands
- Heavy obedience content might "use up" the eagerness temporarily

**Maxed out (100)**:
- Commands execute without consideration
- "Obey" triggers immediate compliance
- The well-trained state
- Physical responses possible (drop, freeze, etc.)

**At zero (0)**:
- Commands are suggestions at best
- "Make me" energy
- Defiance or indifference to instructions

---

### submissive

**Description**: Power differential accepted

**Producing submissive** (+):
- Accepting the lower position
- Power exchange settling in
- "You're in charge" feeling

**Consuming submissive** (-):
- Using that submission for specific dynamics
- Intense D/s content might temporarily exhaust this

**Maxed out (100)**:
- Complete surrender to authority
- No desire to resist or control
- "I am yours" state
- Different from obedient - this is about hierarchy, not commands

**At zero (0)**:
- Equal footing feeling
- "We're just talking"
- No power dynamic present

---

### devoted

**Description**: Emotional attachment to authority

**Producing devoted** (+):
- Building emotional connection
- From obedience to loyalty
- "I want to please you" developing

**Consuming devoted** (-):
- Heavy devotion content might temporarily satisfy the need
- Or intense content might strain the attachment

**Maxed out (100)**:
- Worship-level attachment
- The voice/authority is everything
- Emotional dependency
- Will do anything to please

**At zero (0)**:
- No emotional investment
- "It's just audio"
- Could walk away without feeling

**Note**: Devoted has the slowest decay (0.2/min) because emotional bonds persist.

---

### anticipation

**Description**: Wanting more, pull toward continuation

**Producing anticipation** (+):
- Building the want
- "I need more" feeling growing
- Desire for what comes next

**Consuming anticipation** (-):
- Satisfying the wanting temporarily
- Or: blank consumes anticipation because wanting is incompatible with emptiness

**Maxed out (100)**:
- Strong pull toward continuation
- "Don't stop" energy
- Fully hooked on the session arc

**At zero (0)**:
- Take it or leave it
- Content is enjoyable but no pull
- Easy to walk away

**Note**: Anticipation has fast decay (0.8/min) because desire fades without reinforcement.

---

### aroused

**Description**: Sexual activation

**Producing aroused** (+):
- Sexual response building
- Body responding to content
- Pleasure pathway activated

**Consuming aroused** (-):
- Release, or content that breaks the arousal
- bambi_blackout consumes aroused because void states are incompatible with arousal

**Maxed out (100)**:
- Highly sexually activated
- Difficult to focus on non-sexual content
- Physical arousal present
- Content lands differently when aroused

**At zero (0)**:
- No sexual component
- Pure mental/emotional experience
- Can focus on non-sexual themes

**Note**: Aroused has the fastest decay (1.5/min) because arousal is metabolically expensive to maintain.

---

### identity_flux

**Description**: Sense of self is malleable

**Producing identity_flux** (+):
- Self-concept becoming unstable
- "Who am I?" becoming uncertain
- Old identity loosening

**Consuming identity_flux** (-):
- Installing a new identity "uses up" the malleability
- Once transformed, the flux settles

**Maxed out (100)**:
- Complete identity instability
- Could become anyone suggested
- "I don't know who I am"
- Dangerous/powerful state for transformation

**At zero (0)**:
- Solid self-concept
- "I know who I am"
- Identity work won't land

**Note**: This is the output of bimbo/dumbdown/feminine - they transform suggestibility into identity change.

---

## Part 1b: State Interactions

How states relate to each other - dependencies, conflicts, and natural pairings.

### Prerequisites (Natural Dependencies)

| State | Typically Requires | Rationale |
|-------|-------------------|-----------|
| suggestible | receptive | Can't accept suggestions if guarded |
| dissociated | absorption | Can't be "gone" without being absorbed first |
| identity_flux | suggestible, empty | Identity work needs acceptance + quiet mind |
| obedient | receptive | Command-following needs openness |
| devoted | submissive | Emotional attachment builds on power acceptance |

### Conflicts (Incompatible States)

| State A | Conflicts With | Rationale |
|---------|---------------|-----------|
| aroused | empty | Sexual activation is "loud" - disrupts mental quiet |
| anticipation | empty | Wanting is incompatible with emptiness |
| dissociated | aroused | Void states and arousal don't coexist well |

### Reinforcing Pairs (Build Together)

| Pair | Effect |
|------|--------|
| submissive + obedient | Hierarchy makes commands meaningful; commands reinforce hierarchy |
| devoted + anticipation | Attachment + wanting = "sticky" engagement loop |
| absorption + suggestible | Depth enables acceptance; acceptance enables depth |
| empty + dissociated | Quiet mind is the path to ego dissolution |

### Common Progressions

**Trance path:** receptive â†’ absorption â†’ suggestible â†’ empty â†’ dissociated

**D/s path:** receptive â†’ submissive â†’ obedient â†’ devoted

**Identity path:** empty + suggestible â†’ identity_flux â†’ dissociated

**Arousal path:** receptive â†’ aroused â†’ anticipation â†’ obedient (compliance through desire)

### Notes for Orchestration

- `dissociated` at very high levels may reduce retention - the listener won't remember what was "installed"
- `devoted` + `anticipation` combo creates strongest session-to-session pull
- `aroused` can spike `obedient` temporarily ("do it to get more") but it's brittle
- Most relational states (obedient, submissive, devoted) don't truly "consume" - they experience compliance fatigue or strain from overuse

---

## Part 2: Decay Rate Analysis

Current decay rates per minute:

| Stat | Decay | Category | Rationale |
|------|-------|----------|-----------|
| aroused | 1.5 | Fast | Physiological - body can't maintain indefinitely |
| absorption | 1.5 | Fast | Attention is metabolically expensive |
| dissociated | 1.5 | Fast | Ego dissolution is fragile, easily grounded |
| empty | 1.0 | Fast | Thoughts naturally return |
| anticipation | 0.8 | Medium-Fast | Desire fades without reinforcement |
| suggestible | 0.5 | Medium | Belief acceptance fades to normal |
| identity_flux | 0.4 | Medium | Self-concept re-stabilizes |
| receptive | 0.3 | Slow | Openness persists somewhat |
| obedient | 0.3 | Slow | Compliance patterns persist |
| submissive | 0.3 | Slow | Power dynamic persists |
| devoted | 0.2 | Slowest | Emotional bonds are sticky |

### Decay Hierarchy

```
METABOLICALLY EXPENSIVE (fastest decay, 1.5/min)
â”œâ”€â”€ aroused (1.5) - body can't maintain arousal indefinitely
â”œâ”€â”€ absorption (1.5) - attention requires constant effort
â”œâ”€â”€ dissociated (1.5) - ego dissolution is fragile
â””â”€â”€ empty (1.0) - thoughts naturally return

PSYCHOLOGICAL STATES (medium decay)
â”œâ”€â”€ anticipation (0.8) - desire needs feeding
â”œâ”€â”€ suggestible (0.5) - critical faculty returns
â””â”€â”€ identity_flux (0.4) - self re-stabilizes

RELATIONAL STATES (slow decay, 0.3/min)
â”œâ”€â”€ receptive - openness persists
â”œâ”€â”€ obedient - compliance patterns persist
â””â”€â”€ submissive - power dynamic persists

EMOTIONAL BONDS (slowest decay, 0.2/min)
â””â”€â”€ devoted - love/attachment is sticky
```

**Key insight**: Absorption was moved from medium (0.5) to fast (1.5) decay because:
1. Attention is metabolically expensive - like arousal, you can't maintain peak focus forever
2. Every module produces absorption, so at 0.5/min it saturated early and wasted ~45 points per long session
3. At 1.5/min, absorption still peaks but doesn't stay pinned at 100, reducing waste to ~3.6 points

### Is This a Hierarchy?

**Not a strict hierarchy**, but there are natural categories:

1. **Body states** decay fastest (aroused, empty)
2. **Mental states** decay medium (suggestible, absorption)
3. **Relational states** decay slowest (devoted, submissive)

This makes intuitive sense:
- You can't stay aroused for hours
- You can stay devoted for years

### Should Decay Vary by Category?

Current system is good. The decay rates already encode the phenomenology:
- Fast-decaying states need constant reinforcement
- Slow-decaying states build over time

**Recommendation**: Keep current decay rates. They match the phenomenology.

---

## Part 3: Clipping and Overflow Analysis

### Current Behavior

All stats are clamped to [0, 100]:
```python
self.stats[stat] = min(max_val, self.stats[stat] + amount)
```

### The Problem

Example from bimbo_path simulation:
```
After blank: suggestible=100, empty=70
After bimbo: suggestible=80.7, empty=75.3
```

Bimbo produces `empty: 30`, but we were already at 70. That means:
- 30 empty was "produced" but only 30 was gained (70â†’100, then decayâ†’75.3)
- **23 empty was wasted** (would have been 100+, but clipped)

### Why This Matters

1. **Playlist optimization**: Playing blank â†’ bimbo wastes empty production
2. **User feedback**: "You're already maxed, this file won't help much"
3. **Session design**: Maybe route to different content when stats are high

### Possible Solutions

#### Option A: Warn on Clip (Simple)

```python
if current + amount > max_val:
    overflow = (current + amount) - max_val
    log.warning(f"{stat} clipping: +{amount} but only {max_val - current} headroom, {overflow} wasted")
```

Playlist generator could use this to prefer modules that don't waste production.

#### Option B: Logarithmic Scale

Human perception is logarithmic (Weber-Fechner law). Maybe stats should be too?

```python
# Linear: 50 + 30 = 80
# Log:    50 + 30 = 50 + 30*(1 - 50/100) = 50 + 15 = 65

def add_with_diminishing_returns(current, amount, max_val):
    headroom_ratio = 1 - (current / max_val)
    effective_amount = amount * headroom_ratio
    return min(max_val, current + effective_amount)
```

| Current | +30 Linear | +30 Log |
|---------|------------|---------|
| 0 | 30 | 30 |
| 25 | 55 | 47.5 |
| 50 | 80 | 65 |
| 75 | 100 (clipped) | 82.5 |
| 90 | 100 (clipped) | 93 |

**Pros**:
- "You can always go deeper" - never truly maxed
- Matches perception - going from 90â†’95 should be harder than 10â†’15
- No wasted production

**Cons**:
- More complex math
- Harder to reason about requirements
- Changes all the current balance numbers

#### Option C: Soft Cap + Hard Cap

```python
soft_cap = 80
hard_cap = 100

if current < soft_cap:
    # Normal accumulation
    new_val = current + amount
else:
    # Diminishing returns above soft cap
    overflow = amount
    new_val = current + (overflow * 0.25)

return min(hard_cap, new_val)
```

This gives:
- Normal behavior up to 80
- Heavily diminished returns 80-100
- Hard stop at 100

#### Option D: Different Caps Per Stat

Maybe some stats CAN go higher:

| Stat | Max | Rationale |
|------|-----|-----------|
| absorption | 100 | There's a floor to consciousness |
| empty | 100 | Can't be more than completely empty |
| aroused | 100 | Physiological ceiling |
| devoted | 150? | Love is boundless? |
| anticipation | 150? | Desire can spiral? |
| suggestible | 100 | Binary: either accepting or not |

**Danger**: This complicates balance significantly.

### Recommendation

**Start with Option A (Warn on Clip)**, then consider Option B (Log Scale) if testing shows clipping is common.

The logarithmic model is elegant and matches perception, but it's a bigger change. Let's validate the simpler model first.

---

## Part 4: Implementation Suggestions

### For Playlist Generator

```python
def evaluate_module_efficiency(state, module):
    """How much of this module's production will actually land?"""
    total_produced = 0
    total_effective = 0

    for stat, amount in module.produces.items():
        current = state.stats.get(stat, 0)
        max_val = state.stats_config[stat]["max"]
        headroom = max_val - current

        effective = min(amount, headroom)
        wasted = amount - effective

        total_produced += amount
        total_effective += effective

        if wasted > 0:
            # This module is inefficient for this stat
            pass

    efficiency = total_effective / total_produced if total_produced > 0 else 1.0
    return efficiency
```

### For Session Logging

```python
# Track "potential vs actual" for analysis
session_log.append({
    "module": module_name,
    "production": {
        stat: {
            "attempted": amount,
            "effective": min(amount, headroom),
            "wasted": max(0, amount - headroom)
        }
        for stat, amount in module.produces.items()
    }
})
```

### For User Feedback (Future)

```
ðŸŽµ Now playing: Blank
ðŸ“Š State forecast:
   empty: 45 â†’ 100 (+55, 15 overflow)
   suggestible: 80 â†’ 100 (+20, 10 overflow)
   âš ï¸ Some production will be wasted. Consider lighter content first.
```

---

## Part 5: Open Questions

1. **Should requirements scale with stat level?**
   - Currently: slave requires submissive >= 30 (flat)
   - Alternative: slave requires submissive >= 30% of max
   - If max changes, requirements auto-scale

2. **Should there be negative stats?**
   - "resistance" that must be overcome?
   - Currently all stats are positive resources

3. **Should stats interact multiplicatively?**
   - Currently: suggestible + empty are independent
   - Alternative: suggestible * empty for identity work?
   - Makes maxing both MORE important

4. **Should decay be session-based or real-time?**
   - Currently: decay applies during module duration
   - Alternative: decay continues between sessions?
   - Would create "returning listener" vs "cold start" dynamics

5. **Logarithmic scale - worth implementing?**
   - Matches perception
   - "Always deeper" philosophy
   - But: more complex, changes all balance numbers

---

## Part 6: Empirical Clipping Data

Ran simulation on 4 test sessions. Results:

### Overflow Events by Stat

| Stat | Events | Total Wasted |
|------|--------|--------------|
| absorption | 7 | 91.3 |
| suggestible | 3 | 38.6 |
| empty | 1 | 31.3 |
| submissive | 2 | 23.1 |
| obedient | 2 | 15.2 |
| aroused | 1 | 4.1 |

**Key finding**: `absorption` is the most wasted stat because almost every module produces it.

### Linear vs Logarithmic Final Values

For a typical session (bimbo_path):

| Stat | Linear | Log | Difference |
|------|--------|-----|------------|
| absorption | 97.5 | 66.0 | +31.5 |
| receptive | 87.9 | 61.4 | +26.5 |
| suggestible | 88.2 | 61.4 | +26.8 |
| empty | 95.0 | 76.5 | +18.5 |
| identity_flux | 84.0 | 65.6 | +18.4 |

**Interpretation**: Log scaling would result in significantly lower final values. This isn't necessarily bad - it means:
- More headroom for "deeper" sessions
- Less wasted production
- But: requirements might need recalibration

### Recommendation on Scaling

**Keep linear for now**, but:
1. Track overflow in session logs for real data
2. Consider hybrid (linear to 80, log 80-100) if overflow is problematic
3. The "wasted" production could be reframed as "reinforcement" - even if empty is at 100, producing more empty reinforces the state

---

## Summary

The current model is solid. Key insights:

1. **Consumption semantics are now consistent** - you use what you require, incompatible states conflict

2. **Decay rates already encode phenomenology** - body states fast, emotional states slow

3. **Clipping is real but manageable** - absorption wastes ~91 points across 4 sessions, but this may be fine as "reinforcement"

4. **Logarithmic scale is elegant** but requires rebalancing - defer until we have real session data

5. **The model supports "milk before meat"** - specializations are gated appropriately

6. **Hierarchy exists but is implicit** - body states (fast decay) â†’ mental states (medium) â†’ relational states (slow) â†’ emotional states (slowest)

Next steps:
- Implement overflow tracking in session logs
- Test with real audio files
- Consider log scaling after gathering real data
- Potentially add "reinforcement" mechanic where overflow strengthens resistance to decay

---

## Part 7: Module Tagging Guide

Use this section as a reference when tagging new audio files with mana metadata.

### Required Fields

```json
{
  "tier": "opener|universal|core|specialization|utility|closer",
  "duration_s": 300,
  "requires": { "state": minimum_value },
  "produces": { "state": amount },
  "description": "Brief description of what the module does"
}
```

### Optional Fields

```json
{
  "transforms": [
    {
      "consume": "state_consumed",
      "produce": "state_produced",
      "ratio": 0.3,
      "reason": "Why this transformation happens"
    }
  ],
  "explicit_consumption": { "state": amount }
}
```

### Tagging Heuristics

**What does this module DO to the listener?**

| If the module... | It likely produces... |
|------------------|----------------------|
| Deepens trance, focuses attention | absorption |
| Lowers defenses, builds rapport | receptive |
| Makes suggestions feel true | suggestible |
| Quiets the mind, stops thoughts | empty |
| Creates ego dissolution, "gone" feeling | dissociated |
| Builds command-following reflexes | obedient |
| Establishes power differential | submissive |
| Creates emotional attachment | devoted |
| Builds wanting, "more please" | anticipation |
| Sexually activates | aroused |
| Loosens identity, "who am I?" | identity_flux |

**What does this module REQUIRE to land?**

| If the module... | It likely requires... |
|------------------|----------------------|
| Uses direct suggestions | suggestible >= 20-30 |
| Assumes trance depth | absorption >= 25 |
| Needs mental quiet for identity work | empty >= 20-30 |
| Assumes power dynamic established | submissive >= 25 |
| Needs existing compliance patterns | obedient >= 20-25 |
| Builds on arousal | aroused >= 20 |
| Assumes emotional connection | devoted >= 20 |

### Tier Guidelines

| Tier | Requirements | Purpose |
|------|--------------|---------|
| opener | None | Start session, build foundation |
| universal | Low (receptive 10-20) | Amplifiers, deepeners |
| core | Medium (receptive + suggestible) | Main content themes |
| specialization | Higher (theme-specific) | Advanced/niche content |
| utility | Varies | Bridges, consent gates, transitions |
| closer | None | End session, return to baseline |

### Example Tagging

Given a script that:
- Requires the listener to already be somewhat suggestible
- Deepens trance while building obedience
- Uses commands and compliance training

```json
{
  "tier": "core",
  "duration_s": 470,
  "requires": {
    "receptive": 30,
    "suggestible": 20
  },
  "produces": {
    "obedient": 60,
    "submissive": 30,
    "absorption": 25
  },
  "description": "Command following. Builds compliance patterns."
}
```

### States Quick Reference

| State | Decay | What it measures |
|-------|-------|------------------|
| absorption | 1.5 | Trance depth, attentional capture |
| dissociated | 1.5 | Ego dissolution, "gone" state |
| aroused | 1.5 | Sexual activation |
| empty | 1.0 | Mental quietness |
| anticipation | 0.8 | Wanting more |
| suggestible | 0.5 | Accepting suggestions as true |
| identity_flux | 0.4 | Self-concept malleability |
| receptive | 0.3 | Openness, barriers lowered |
| obedient | 0.3 | Command-following readiness |
| submissive | 0.3 | Power differential accepted |
| devoted | 0.2 | Emotional attachment |
